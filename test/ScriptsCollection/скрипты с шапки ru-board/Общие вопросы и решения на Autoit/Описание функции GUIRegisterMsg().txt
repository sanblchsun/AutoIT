
Maza Faka

Функция GUIRegisterMsg() регистрирует функции пользователя для определённых Windows-сообщений. После регистрации, функция вызывается системой. В твоём примере происходит регистрация функции для сообщения WM_COMMAND. Это сообщение обрабатывает уведомления поступившие от control-а Input, такие, как обновление текста, установка/потеря фокуса и т.д. В данном примере ты обрабатывешь уведомление $EN_CHANGE, которое поступает при обновлении текста в control-е Input. И всё это обрабатывается системой, что очень удобно. Константу $GUI_RUNDEFMSG нужно возвращать для того, что бы, как можно быстрее выйти из CallBack функции и продолжить работу скрипта.


$hWnd - Handle окна, в нашем случае handle главного окна.
$imsg - Сообщение, в нашем случае WM_COMMAND
$iwParam и $ilParam - параметры, содержимое которых зависит от сообщения. Для сообщения WM_COMMAND содержимое параметров будет таким:
$iwParam - Старшее слово BitShift($iwParam, 16) - код уведомления
$iwParam - Младшее слово BitAND($iwParam, 0x0000FFFF) - идентификатор контрола.
$ilParam - Handle контрола.