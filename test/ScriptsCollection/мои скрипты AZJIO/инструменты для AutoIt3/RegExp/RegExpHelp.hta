<html>
<head>
<title>Справка: Регулярные выражения</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">

<HTA:APPLICATION
        ID="oHTA"
        applicationName="MS-DOS"
		innerBorder="no"
        BorderStyle="static"
        caption="yes"
        icon=".\hta.ico"
		windowState="normal"
        maximizeButton="yes"
        minimizeButton="yes"
        ShowInTaskbar="yes"
		scrollFlat="yes"
        SingleInstance="yes"
        sysMenu="yes"
        maximize="1.0"
>

<style type="text/css">
BODY
 {
BACKGROUND: #cee3e0;
    FONT-FAMILY: Arial Cyr, Geneva;
    FONT-SIZE: 10pt;
    TEXT-ALIGN: justify;
	SCROLLBAR-BASE-COLOR: #00746d;
	SCROLLBAR-FACE-COLOR: #cee3e0;
	SCROLLBAR-HIGHLIGHT-COLOR: #00746d;
	SCROLLBAR-SHADOW-COLOR: #00746d;
	SCROLLBAR-3DLIGHT-COLOR: #00746d;
	SCROLLBAR-ARROW-COLOR: #00746d;
	SCROLLBAR-TRACK-COLOR: #00746d;
	SCROLLBAR-DARKSHADOW-COLOR: #00746d;
  }

P
 {
    TEXT-INDENT: 2em;
    margin-top: 0pt;
    margin-bottom: 0pt;
 }

/* Бордовый */.bor
  {COLOR: #aa0000}

/* примеры */.navyblue
  {COLOR: #0014AD}

/* синий */.blue
  {COLOR: #0373FE}
</style>
</head>

<body>
<p align="center" style='font-size:16.0pt;color=#005522'><b>Регулярные выражения</b></p>


<p>&nbsp;</p>
<p><B class='blue'>Метасимволы вне квадратных скобок</b></p>
<p>&nbsp;</p>

<p><B class='bor'>( )</B> - начало и конец группы, например (text). Означают последовательность. Используются для применения квантификаторов не к одному символу, а к нескольким, а также для дальнейшего использования найденной последовательности. </p>
<p><B class='bor'>[ ]</B> - начало и конец описания символьного класса, например [a-z]. Символьный класс возвращает один символ из множества. Изменить это могут повторители.</p>
<p><B class='bor'>{ }</B> - начало и конец повторителей, например {3,8}</p>
<p><B class='bor'>\</B> - экранирующий символ, принять метасимвол как обычный символ, например (\\, \., \[, \], \{, \}, \*).</p>
<p><B class='bor'>^</B> - начало строки (или начало текста в многострочных текстах с флагом (?m)), например ^text text$</p>
<p><B class='bor'>$</B> - конец строки (или конец текста в многострочных текстах с флагом (?m)), например ^text text$</p>
<p><B class='bor'>.</B> - любой символ, кроме переноса строки @LF (по умолчанию). С флагом (?s) - любой символ</p>
<p><B class='bor'>|</B> - символ "или", обычно внутри группы, например (10|20)</p>
<p><B class='bor'>?</B> - предыдущий символ либо имеется, либо не имеется, аналогично и для групп. После символа повтора - жадность патерна - (.*?)</p>
<p><B class='bor'>*</B> - повтор предыдущего символа или группы 0 и более раз</p>
<p><B class='bor'>+</B> - повтор предыдущего символа или группы 1 и более раз</p>

<p>&nbsp;</p>
<p><B class='blue'>Метасимволы внутри квадратных скобок</b></p>
<p>&nbsp;</p>

<p>Часть шаблона, заключенная в квадратные скобки, называется символьным классом. Внутри скобок метасимволы теряют свое специальное значение, кроме метасимволов принадлежащих этому классу. Экранировать требуется только 4 символа \ - ] [. Если символ "-" находится в конце перечисления, то не требует экранирования. В шаблоне могут использоваться метасимволы диапазонов, но не используются метасимволы границ, например \A, \B, \Z, \z, а метасимвол \b означает символ возврата 'backspace'. Учтите, что диапазоны, например [а-я] используют UTF-8 последовательность, а не ASCII.</p><br>
<p><B class='bor'>\</B> - экранирующий символ</p>
<p><B class='bor'>^</B> - символ исключения, но в случае, когда стоит первым, например [^3] все кроме три</p>
<p><B class='bor'>-</B> - символ охвата, например [a-z], то есть все символы от a до z</p>
<p><B class='bor'>[ ]</B> - начало и конец описания символьного класса, например [a-z]</p>


<p>&nbsp;</p>
<p><B class='blue'>Метасимволы подстановки</b></p>
<p>&nbsp;</p>

<p><B class='bor'>\1 - \9</B> - ссылка на найденную группу в самом шаблоне и в шаблоне замены</p>
<p><B class='bor'>$1 - $9</B> - ссылка на найденную группу в шаблоне замены</p>
<p><B class='bor'>$0 или \0</B> - весь шаблон поиска или все группы (9 не ограничение)</p>
<p><B class='bor'>\a</B> - Chr(7) - символ с десятичным ASCII-кодом 7 (звонок). При выводе воспроизводит звуковой сигнал. BEL (hex 07)</p>
<p><B class='bor'>\cn</B> - управляющий символ, который генерируется при нажатии комбинации клавиш Ctrl+n, где n- символ, например \cD соответствует Ctrl+D. \cA = \001, \cZ = \032, \cM = \r = \015</p>
<p><B class='bor'>\e</B> - Chr(27) - символ escape (hex 1B)</p>
<p><B class='bor'>\f</B> - Chr(12) перенос страницы (hex 0C)</p>
<p><B class='bor'>\h</B> - [ \t] - любой горизонтальный пробел, табуляция - Chr(9), Chr(32), Chr(160)</p>
<p><B class='bor'>\H</B> - [^\h] - любой символ, который не пробел или табуляция</p>
<p><B class='bor'>\K</B> - reset start of match.</p>
<p><B class='bor'>\n</B> -  @LF, Chr(10) - символ переноса на новую строку (hex 0A)</p>
<p><B class='bor'>\N</B> - [^\n] Любой символ, который не символ переноса на новую строку (не @LF). Не работает в 3.3.6.1</p>
<p><B class='bor'>\Q ... \E</B>  - любые метасимволы между \Q и \E воспринимаются как текст. Не исключайте ошибки: \QD:\Edit\1.txt\E</p>
<p><B class='bor'>\r</B> -  @CR, Chr(13) - символ возврат каретки (hex 0D)</p>
<p><B class='bor'>\R</B> -  [\n\f\r\v] Chr(10), Chr(11), Chr(12), Chr(13) любой из символов переноса строки</p>
<p><B class='bor'>\t</B> - @TAB, Chr(9) символ табуляции - tab (hex 09)</p>
<p><B class='bor'>\v</B> - [\r\n\f] Chr(10), Chr(11), Chr(12), Chr(13) вертикальная табуляция (@CR и @LF и перенос страницы)</p>
<p><B class='bor'>\V</B> - [^\v] - любой символ, который не Chr(10), Chr(11), Chr(12), Chr(13) вертикальная табуляция (перенос строки)</p>
<p><B class='bor'>\x**</B> - где * - любая шестнадцатеричная цифра, например \x41 соответствует латинской букве 'A', \x50\x65\x72\x6C - слово Perl</p>
<p><B class='bor'>\x{**..}</B> - где * - любая шестнадцатеричным цифра, например \x{50}\x{65}\x{72}\x{6C} - слово Perl. Попробуйте от \x{01} до \x{7F}, что в десятеричной системе означает символы от 1 до 127. Или в UTF кодировке \x{044F} равный символу "я"</p>
<p><B class='bor'>\***</B> - где * - любая восьмеричная цифра. Например, последовательность \120\145\162\154 представляет слово Perl (\120 - восьмеричный код буквы Р, \145 - буквы е, \162 - буквы r, \154 - буквы l). Пробел - \040. Попробуйте от \001 до \177, что в десятеричной системе означает символы от 1 до 127</p>
<p><B class='bor'>\G</B> - обозначает точку, в которой закончился предыдущий поиск (first matching position in subject)</p>

<p>&nbsp;</p>
<p><B class='blue'>Метасимволы для задания групп символов</b></p>
<p>&nbsp;</p>

<p><B class='bor'>\d</B> -  [0-9] - любая десятичная цифра</p>
<p><B class='bor'>\D</B> - [^0-9] любая не цифра</p>
<p><B class='bor'>\s</B> -  [\f\n\r\t\v ] - пустой символ: Chr(9), Chr(10), Chr(12), Chr(13), Chr(32) (перенос страницы, табуляция, возврат каретки, перевод строки и пробел). </p>
<p><B class='bor'>\S</B> - [^\f\n\r\t\v ] - любой непробельный символ</p>
<p><B class='bor'>\w</B> - [0-9a-zA-Z_] - любой алфавитно-числовой символ или подчеркивание (только символы латинского алфавита)</p>
<p><B class='bor'>\W</B> - [^0-9a-zA-Z_] - любой символ неслова</p>

<p>&nbsp;</p>
<p><B class='blue'>Границы символов</b></p>
<p>&nbsp;</p>

<p><B class='bor'>\A</B> -  начало текста, не зависит от флага "(?m)" и поэтому может встретится только 1 раз.</p>
<p><B class='bor'>\z</B> -  абсолютный конец текста, не зависит от флага "(?m)" и поэтому может встретится только 1 раз</p>
<p><B class='bor'>\Z</B> -  конец текста, т. е. граница между любым символом и концом текста или до символа \n, если он в конце строки, не зависит от флага "(?m)" и поэтому может встретится только 1 раз.</p>
<p><B class='bor'>\b</B> - начало или конец слова, т. е. граница между символами, один из которых удовлетворяет \W, а другой - удовлетворяет \w (только в англ. текстах)</p>
<p><B class='bor'>\B</B> - середина слова, т. е. граница между символами, оба которых удовлетворяют \W или оба которых удовлетворяют \w</p>

<p>&nbsp;</p>
<p><B class='blue'>Флаги модификаторы</b></p>
<p>&nbsp;</p>
<p>Ставятся в начало регулярного выражения или группы.</p>
<p>Состояние модификаторов выключено по умолчанию, соответственно для использования требуется включить.</p>
<p>Пример использования : (?i)(Text) или ((?-i)Text), допустимо комбинировать (?is)(Text) или ((?imsx)Text)</p><br>

<p><B class='bor'>(?i)</B> - не учитывать регистр символов. Это работает только для символов латинского алфавита.</p>
<p><B class='bor'>(?-i)</B> - отменяет ранее включенный (?i)</p>
<p><B class='bor'>(?m)</B> - в многострочном тексте символы ^ и $ означают начало и конец строки соответственно, например ^(Text)\r$, иначе начало и конец текста. Символ LF - разделитель строк</p>
<p><B class='bor'>(?-m)</B> - отменяет ранее включенный (?m)</p>
<p><B class='bor'>(?s)</B> - символ "точка" (.) дополнительно включает в себя перенос строки LF (режим "одна строка")</p>
<p><B class='bor'>(?-s)</B> - отменяет ранее включенный (?s)</p>
<p><B class='bor'>(?x)</B> - игнорирует пробелы и табуляции в регулярном выражении, кроме тех что в квадратных скобках. Пробелы позволяют сделать регулярное выражение легко читаемым. Позволяет в конце рег. выр. добавить комментарий после символа #</p>
<p><B class='bor'>(?-x)</B> - отменяет ранее включенный (?x)</p>
<p><B class='bor'>(?J)</B> - allow duplicate names (разрешает дубликаты/двойные названия).</p>
<p><B class='bor'>(?U)</B> - инвертировать жадность квантификаторов</p>
<p><B class='bor'>(?-U)</B> - отменяет ранее включенный (?U)</p>

<p>&nbsp;</p>
<p><B class='blue'>Флаги групп</b></p>
<p>&nbsp;</p>
<p>Допустимо комбинировать <B class='navyblue'>(?im-sx:Text)</B>, флаги sx выключены</p><br>

<p><B class='bor'>(?i:...)</B> - группа, не учитывает регистр символов, например <B class='navyblue'>(?i:Text)</B>. Это работает только для символов латинского алфавита.</p>
<p><B class='bor'>(?-i:...)</B> - группа учитывает регистр символов, например <B class='navyblue'>(?-i:Text)</B></p>
<p><B class='bor'>(?:...)</B> - исключает группу из найденных, например <B class='navyblue'>(?:Text)</B></p>
<p><B class='bor'>(?&gt;...)</B> - группа не входящая в поиск, но имеет свойство сверхжадного квантификатора, например <B class='navyblue'>(?&gt;Text)(Text)</B></p>
<p><B class='bor'>(?=...)</B> - группа не входящая в поиск, но проверяющая <font color="0048BD"><B>совпадение</B></font> образца <font color="0048BD"><B>справа</B></font>, например <B class='navyblue'>(Text)(?=Text)</B></p>
<p><B class='bor'>(?!...)</B> - группа не входящая в поиск, но проверяющая <font color="E00000"><B>не совпадение</B></font> образца <font color="0048BD"><B>справа</B></font>, например <B class='navyblue'>(Text)(?!Text)</B></p>
<p><B class='bor'>(?&lt;=...)</B> - группа не входящая в поиск, но проверяющая <font color="0048BD"><B>совпадение</B></font> образца <font color="E00000"><B>слева</B></font>, например <B class='navyblue'>(?&lt;=Text)(Text)</B></p>
<p><B class='bor'>(?&lt;!...)</B> - группа не входящая в поиск, но проверяющая <font color="E00000"><B>не совпадение</B></font> образца <font color="E00000"><B>слева</B></font>, например <B class='navyblue'>(?&lt;!Text)(Text)</B></p>
<p><B class='bor'>(?&lt;name&gt;...)</B> - именованная ссылка. Вызов именованной ссылки \k&lt;name&gt; это тоже что вызов \1 или $1</p>
<p><B class='bor'>(?#...)</B> - группа содержащая комментарий, например (?# это комментарий ). Полностью игнорируется интерпретатором</p>

<p>&nbsp;</p>
<p><B class='blue'>Повтор предыдущего элемента, применяется к символам и группам (квантификаторы)</b></p>
<p>&nbsp;</p>

<p><B class='bor'>{n}</B> - повторить предыдущий символ n раз</p>
<p><B class='bor'>{n,}</B> - повторить предыдущий символ  n и более раз ( <B class='navyblue'>{n,}?</B> - предпочтительно наименьший захват)</p>
<p><B class='bor'>{n, m}</B> - повторить предыдущий символ от n до m раз ( <B class='navyblue'>{n,m}?</B> - предпочтительно наименьший захват)</p>
<p><B class='bor'>*</B> - повторить предыдущий символ 0 и более раз. То же что и <B class='navyblue'>{0,}</B>. Наибольший захват, который позволит совпасть оставшейся части шаблона.</p>
<p><B class='bor'>+</B> - повторить предыдущий символ 1 и более раз. То же что и <B class='navyblue'>{1,}</B>. Наибольший захват, который позволит совпасть оставшейся части шаблона.</p>
<p><B class='bor'>?</B> - предыдущий символ либо имеется, либо не имеется. То же что и <B class='navyblue'>{0,1}</B>. Второе значение символа <B class='navyblue'>?</B> после символа повтора <B class='navyblue'>.*?</B> - жадность, см. ниже</p>
<p><B class='bor'>*?</B> - повторить предыдущий символ 0 и более раз. Ограничится наименьшим захватом, который позволит совпасть оставшейся части шаблона.</p>
<p><B class='bor'>+?</B> - повторить предыдущий символ 1 и более раз. Ограничится наименьшим захватом, который позволит совпасть оставшейся части шаблона.</p>
<p><B class='bor'>??</B> - предпочтительно наименьший захват, например <B class='navyblue'>([a-z]??)g</B> для 'gg' возвращает две пустые строки</p>

<p>&nbsp;</p>
<p><B class='blue'>Ревнивая или сверхжадная квантификация</b></p>
<p>&nbsp;</p>

<p>Захват без возврата к предыдущим шагам поиска. Захватывает всё, что удовлетворяет предыдущему символу, не заботясь о совпадении оставшейся части шаблона. Символ или диапазон символов следующий за сверхжадным метасимволом не должен поглащатся его диапазоном, иначе такой шаблон никогда не будет найден и является бессмысленным. Единственная цель сверхжадного метасимвола - ускорить захват.</p><br>

<p><B class='bor'>*+</B> - повторить предыдущий символ 0 и более раз.</p>
<p><B class='bor'>++</B> - повторить предыдущий символ 1 и более раз.</p>
<p><B class='bor'>{n,}+</B> - повторить предыдущий символ n и более раз.</p>


<p>&nbsp;</p>
<p><B class='blue'>Символьные классы POSIX</b></p>
<p>&nbsp;</p>
<p>Пример [[:upper:]]{2} - поиск повтора заглавных букв. Инвертировать диапазон так: [[:^digit:]]</p><br>

<p><B class='bor'>[:alnum:] </B> - буквы и цифры [0-9A-Za-z] (как \w, но без "_")</p>
<p><B class='bor'>[:alpha:]</B> - буквы [A-Za-z] (без "_")</p>
<p><B class='bor'>[:ascii:]</B> - символы от Chr(0) до Chr(127)</p>
<p><B class='bor'>[:blank:] </B> - пробел и символ табуляции Chr(9) и Chr(32), тоже что [\t ]</p>
<p><B class='bor'>[:cntrl:]</B> - управляющие символы от Chr(0) до Chr(31) и Chr(127)</p>
<p><B class='bor'>[:digit:]</B> - десятичные цифры, тоже что \d, [0-9]</p>
<p><B class='bor'>[:graph:] </B> - тоже что символы, отображаемые при печати [:print:], но кроме пробела (от Chr(33) до Chr(126) )</p>
<p><B class='bor'>[:lower:]</B> - прописные буквы [a-z]</p>
<p><B class='bor'>[:print:]</B> - символы, отображаемые при печати, включая пробел (от Chr(32) до Chr(126) )</p>
<p><B class='bor'>[:punct:]</B> - символы, отображаемые при печати, кроме букв и цифр Chr=(33-47, 58-64, 91-96, 123-126), те, что не входят ни в [:alnum:], ни в [:cntrl:]</p>
<p><B class='bor'>[:space:]</B> - пробельные символы (как \s, но включая символ VT: Chr(11) ) от Chr(9) до Chr(13) и Chr(32). Тоже что [\f\n\r\t\v ]
</p>
<p><B class='bor'>[:upper:]</B> - заглавные буквы [A-Z]</p>
<p><B class='bor'>[:word:]</B> - символы слов, тоже что \w</p>
<p><B class='bor'>[:xdigit:]</B> - шестнадцатеричные цифры [0-9A-Fa-f]</p>


<p>&nbsp;</p>
<p><B class='blue'>Условные подмаски</b></p>
<p>&nbsp;</p>

<p><B class='bor'>(?(если)то)</B> - например (?(?=[a-z])\d), (?(условие)шаблон_при_успехе)</p>
<p><B class='bor'>(?(если)то|иначе)</B> - например (?(?&lt;=\d)a|b) или (?:(?>(?=[^a-z]*[a-z])())?(?:(?=\1)aa|(?!\1)1)), (?(условие)шаблон_при_успехе|шаблон_при_не_успехе)</p>
<p><B class='bor'>(?=[\w]+)| (?R)</B> - рекурсивный вызов</p>


<p>&nbsp;</p>
<p><B> Эти флаги не действуют в AutoIt3</B> </p>
<p>\p любой символ пунктуации</p>
<p>\l - означает, что следующий символ регулярного выражения преобразуется в нижний регистр.</p>
<p>\u - означает, что следующий символ регулярного выражения преобразуется в верхний регистр.</p>
<p>\L...\Е - означает, что все символы в регулярном выражении между \L и \Е преобразуются в нижний регистр.</p>
<p>\U...\Е - означает, что все символы в регулярном выражении между \U и \Е преобразуются в верхний регистр. </p>
<p>\x - любой шестнадцатеричный символ</p>
<p>\&lt; - начало слова, т. е. граница между символом, удовлетворяющим \W и символом, удовлетворяющим \w</p>
<p>\> - конец слова, т. е. граница между символом, удовлетворяющим \w и символом, удовлетворяющим \W</p>
<p>{,n} - повторить предыдущий символ от 0 до n раз</p>

<p>&nbsp;</p>
<p><B class='blue'>Примеры конструкций</b></p>
<p>&nbsp;</p>

<p><B class='bor'>.*</B> - повтор любого символа, а значит весь текст</p>
<p><B class='bor'>[ ... ]</B> - одиночный символ множества, например [aeiou] - любой из строчных гласных</p>
<p><B class='bor'>[^ ... ]</B> - ни один из символов множества, например [^aeiou] - ни один из строчных гласных</p>
<p><B class='bor'>[0-9A-Fa-f]{6}</B> - Шестнадцатеричное число, например FF0000.</p>
<p><B class='bor'>[А-яЁё]</B> - Диапазон для русских букв. Или так [А-Яа-яЁё]</p>


<p>&nbsp;</p>

<p>&nbsp;</p>
<p><B class='blue'>Ссылки</b></p>
<p>&nbsp;</p>
<p><a href="http://www.softtime.ru/info/fridl.php" target="_blank">Регулярные выражения. Дж. Фридл. 2-е издание</a></p>
<p><a href="http://edlinsoft.blogspot.com/" target="_blank">edlinsoft.blogspot.com</a></p>
<p><a href="http://www.intuit.ru/department/pl/perl/8/5.html" target="_blank">Интернет университет</a></p>
<p><a href="http://msdn.microsoft.com/ru-ru/library/az24scfc.aspx" target="_blank">msdn.ru</a></p>
<p><a href="http://debugger.ru/articles/nativeregexp" target="_blank">debugger.ru</a></p>
<p><a href="http://valera.asf.ru/perl/book/8/8.1.html" target="_blank">valera.asf.ru</a></p>
<p><a href="http://www.php.ru/manual/reference.pcre.pattern.syntax.html" target="_blank">Регулярные выражения на php</a></p>
<p><a href=""></a></p>
<p><a href="http://ru.wikipedia.org/wiki/%D0%A3%D0%BF%D1%80%D0%B0%D0%B2%D0%BB%D1%8F%D1%8E%D1%89%D0%B8%D0%B5_%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D1%8B" target="_blank">Управляющие символы (wiki)</a></p>
<p><a href="http://www.ajaxforum.ru/regexp/" target="_blank"></a></p>
<p><a href="http://ru.wikipedia.org/wiki/%D0%A0%D0%B5%D0%B3%D1%83%D0%BB%D1%8F%D1%80%D0%BD%D1%8B%D0%B5_%D0%B2%D1%8B%D1%80%D0%B0%D0%B6%D0%B5%D0%BD%D0%B8%D1%8F" target="_blank">Регулярные выражения на wiki</a></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>&nbsp;</p>


</body>
</html>